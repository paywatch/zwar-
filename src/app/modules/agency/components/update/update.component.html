<div class="page-layout">
  <div class="container ">
    <nav aria-label="breadcrumb">
      <ol class="bg-transparent breadcrumb mb-2 p-0 small text-muted">
        <li class="breadcrumb-item"><a [routerLink]="['/home']">الرئيسية</a></li>
        <li class="breadcrumb-item"><a [routerLink]="['/profile/programs']">برامج العمرة </a></li>
      </ol>
    </nav>
    <form [formGroup]="agencyForm" novalidate (ngSubmit)="submit()">
      <h3>تعديل الباقة</h3>
      <section>
        <div class="row mt-3" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
          <div class="col-md-4">
            <div class="form-group ">
              <label class="d-block col-form-label"> اسم وكالة السفر </label>
              <input type="text" id="tAName" formControlName="tAName" class="form-control">
            </div>
            <em *ngIf="agencyForm.get('tAName').hasError('required') &&
                       agencyForm.get('tAName').touched">
              اجباري
            </em>
            <em *ngIf="!agencyForm.get('tAName').hasError('required') &&
                        agencyForm.get('tAName').hasError('pattern') &&
                       agencyForm.get('tAName').touched">
              حروف فقط
            </em>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="d-block col-form-label"> الدولة </label>
              <select type="text" class="form-control" formControlName="countryId">
                <option *ngFor="let item of countries" [value]="item.id">
                  {{item.name}}
                </option>
              </select>
            </div>
            <em *ngIf="agencyForm.get('countryId').hasError('required') &&
                       agencyForm.get('countryId').touched">
              اجباري
            </em>
          </div>
          <div class="col-md-4">
            <div class="form-group ">
              <label class="d-block col-form-label"> تصنيف الوكالة </label>
              <select name="tAType" class="form-control" formControlName="tAType">
                <option *ngFor="let item of agencyType" [value]="item.id">
                  {{item.name}}
                </option>
              </select>
            </div>
            <em *ngIf="agencyForm.get('tAType').hasError('required') &&
                       agencyForm.get('tAType').touched">
              اجباري
            </em>
          </div>
        </div>
        <div class="row mt-3" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
          <div class="col-md-4">
            <div class="form-group">
              <label class="d-block col-form-label"> الموقع الالكتروني </label>
              <input type="text" id="tAWebsite" formControlName="tAWebsite" class="form-control"
                placeholder="www.example.com">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group ">
              <label class="d-block col-form-label"> رقم السجل التجاري </label>
              <input type="text" id="tACommeRegNo" formControlName="tACommeRegNo" class="form-control">
            </div>
            <em *ngIf="agencyForm.get('tACommeRegNo').hasError('required') &&
                       agencyForm.get('tACommeRegNo').touched">
              اجباري
            </em>
            <em *ngIf="!agencyForm.get('tACommeRegNo').hasError('required') &&
                        agencyForm.get('tACommeRegNo').hasError('pattern') &&
                        agencyForm.get('tACommeRegNo').touched">
              الرقم فقط
            </em>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="d-block col-form-label  "> تاريخ انشاء السجل التجاري </label>
              <input type="date" id="tACommRegIssueDate" formControlName="tACommRegIssueDate" class="form-control">
            </div>
            <em *ngIf="agencyForm.get('tACommRegIssueDate').hasError('required') &&
                        agencyForm.get('tACommRegIssueDate').touched">
              اجباري
            </em>
            <em *ngIf="!agencyForm.get('tACommRegIssueDate').hasError('required') &&
                        agencyForm.get('tACommRegIssueDate').hasError('lessThanToday') &&
                        agencyForm.get('tACommRegIssueDate').touched">
              التاريخ يجب ان يكون قبل تاريخ اليوم
            </em>
          </div>
        </div>
        <div class="row mt-3" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
          <div class="col-md-4">
            <div class="form-group ">
              <label class="d-block col-form-label"> تاريخ انتهاء السجل التجاري </label>
              <input type="date" id="tACommRegExpiryDate" formControlName="tACommRegExpiryDate" class="form-control">
            </div>
            <em *ngIf="agencyForm.get('tACommRegExpiryDate').hasError('required') &&
                       agencyForm.get('tACommRegExpiryDate').touched">
              اجباري
            </em>
            <em *ngIf="!agencyForm.get('tACommRegExpiryDate').hasError('required') && 
                        agencyForm.get('tACommRegExpiryDate').hasError('greaterThan') &&
                        agencyForm.get('tACommRegExpiryDate').touched">
              تاريخ النهايه يجب ان يكون اكبر من تاريخ البدايه
            </em>
          </div>
        </div>
        <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
          <div class="col-md-12">
            <div class="form-group">
              <label class="d-block col-form-label"> نبذة عن وكالة السفر </label>
              <textarea class="form-control" rows="4" formControlName="tADescription"></textarea>
            </div>
            <em *ngIf="agencyForm.get('tADescription').hasError('required') &&
                       agencyForm.get('tADescription').touched">
              اجباري
            </em>
            <em *ngIf="!agencyForm.get('tADescription').hasError('required') &&
                        agencyForm.get('tADescription').hasError('maxlength') &&
                       agencyForm.get('tADescription').touched">
              حد اقصي 200 رقم
            </em>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 col-md-12 col-lg-12">
            <h4>اضافة ملاك</h4>
            <a href="javascript:;" style="font-size: 2rem;" (click)="addOwner()" class="table-action text-success" data-toggle="modal"
              data-target="#addowner"> <i class="fa fa-plus-square"></i> </a>
            <table style="width: 100%;" class="table table-striped">
              <thead>
                <tr>
                  <th>الاسم</th>
                  <th>الرقم القومي</th>
                  <th>رقم الهاتف</th>
                  <th>تعديل</th>
                  <th>حذف</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of ownerList |  paginate: { itemsPerPage: 2, currentPage: page}">
                  <td>
                    {{item.tAOwnerFullName}}
                  </td>
                  <td>
                    {{item.tAOwnerNationalID}}
                  </td>
                  <td>
                    {{item.tAOwnerPhoneNo}}
                  </td>
                  <td>
                    <a href="javascript:;" (click)="editOwner(item)" class="table-action text-success"
                      data-toggle="modal" data-target="#addowner"> <i class="fa fa-fw fa-pencil-alt"></i>
                    </a>
                  </td>
                  <td style="text-align:center">
                    <a class="table-action text-danger" (click)="onOwnerDelete(item.$$ID)"> <i
                        class="fal fa-fw fa-trash-alt"></i></a>
                  </td>
                </tr>
              </tbody>
            </table>
            <pagination-controls (pageChange)="page = $event" maxSize="5"></pagination-controls>
          </div>
        </div>

        <div class="wizard-details">
          <section>
            <h3 class="text-primary"> ترخيص وزارة السياحة </h3>
            <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
              <div class="col-lg-8">
                <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="d-block col-form-label"> هل الوكالة مرخصة من قبل السفارة ؟ </label>
                      <div class="mt-2">
                        <div class="custom-control custom-radio  d-inline-block ">
                          <input id="yes1" [value]="true" formControlName="$$isMinTourAuth" type="radio"
                            class="custom-control-input" (change)="changeMinTourAuth()">
                          <label class="custom-control-label" for="yes1"> نعم </label>
                        </div>
                        <div class="custom-control custom-radio  d-inline-block  mx-3">
                          <input id="no1" formControlName="$$isMinTourAuth" [value]="false" type="radio"
                            class="custom-control-input" (change)="changeMinTourAuth()">
                          <label class="custom-control-label" for="no1"> لا</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="$$isMinTourAuth">
                  <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000"
                    data-aos-delay="100">
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label"> رقم الترخيص </label>
                        <input type="text" id="tAMinTourAuthNo" formControlName="tAMinTourAuthNo" class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAMinTourAuthNo').hasError('required') &&
                                 agencyForm.get('tAMinTourAuthNo').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAMinTourAuthNo').hasError('required') &&
                                  agencyForm.get('tAMinTourAuthNo').hasError('pattern') &&
                                  agencyForm.get('tAMinTourAuthNo').touched">
                        الرقم فقط
                      </em>
                    </div>
                  </div>
                  <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000"
                    data-aos-delay="100">
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label  "> تاريخ انشاء الترخيص </label>
                        <input type="date" id="tAMinTourAuthIssueDate" formControlName="tAMinTourAuthIssueDate"
                          class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAMinTourAuthIssueDate').hasError('required') &&
                                 agencyForm.get('tAMinTourAuthIssueDate').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAMinTourAuthIssueDate').hasError('required') &&
                                  agencyForm.get('tAMinTourAuthIssueDate').hasError('lessThanToday') &&
                                 agencyForm.get('tAMinTourAuthIssueDate').touched">
                        التاريخ يجب ان يكون قبل تاريخ اليوم
                      </em>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label class="d-block col-form-label  "> تاريخ انتهاء الترخيص </label>
                        <input type="date" id="tAMinTourAuthExpiryDate" formControlName="tAMinTourAuthExpiryDate"
                          class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAMinTourAuthExpiryDate').hasError('required') &&
                                 agencyForm.get('tAMinTourAuthExpiryDate').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAMinTourAuthExpiryDate').hasError('required') &&
                                  agencyForm.get('tAMinTourAuthExpiryDate').hasError('greaterThan') &&
                                  agencyForm.get('tAMinTourAuthExpiryDate').touched">
                        تاريخ النهايه يجب ان يكون اكبر من تاريخ البدايه
                      </em>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
          <hr class="my-4">

          <section>
            <h3 class="text-primary"> التسجيل في FTAV</h3>
            <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
              <div class="col-lg-8">
                <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
                  <div class="col-md-12">
                    <div class="form-group ">
                      <label class="d-block col-form-label"> هل الوكالة مسجلة لدى FTAV؟ </label>
                      <div class="mt-2">
                        <div class="custom-control custom-radio  d-inline-block ">
                          <input id="yes2" [value]="true" formControlName="$$isFTAVMember" type="radio"
                            class="custom-control-input" checked (change)="changeFTAVMember()">
                          <label class="custom-control-label" for="yes2"> نعم </label>
                        </div>
                        <div class="custom-control custom-radio  d-inline-block  mx-3">
                          <input id="no2" [value]="false" formControlName="$$isFTAVMember" type="radio"
                            class="custom-control-input" (change)="changeFTAVMember()">
                          <label class="custom-control-label" for="no2">لا</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="$$isFTAVMember">
                  <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000"
                    data-aos-delay="100">
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label"> رقم العضوية </label>
                        <input type="text" id="tAFTAVMemberNo" formControlName="tAFTAVMemberNo" class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAFTAVMemberNo').hasError('required') &&
                                 agencyForm.get('tAFTAVMemberNo').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAFTAVMemberNo').hasError('required') &&
                                  agencyForm.get('tAFTAVMemberNo').hasError('pattern') &&
                                  agencyForm.get('tAFTAVMemberNo').touched">
                        الرقم فقط
                      </em>
                    </div>
                  </div>
                  <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000"
                    data-aos-delay="100">
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label  "> تاريخ انشاء العضوية </label>
                        <input type="date" id="tAFTAVMemberIssueDate" formControlName="tAFTAVMemberIssueDate"
                          class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAFTAVMemberIssueDate').hasError('required') &&
                                 agencyForm.get('tAFTAVMemberIssueDate').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAFTAVMemberIssueDate').hasError('required') &&
                                  agencyForm.get('tAFTAVMemberIssueDate').hasError('lessThanToday') &&
                                 agencyForm.get('tAFTAVMemberIssueDate').touched">
                        التاريخ يجب ان يكون قبل تاريخ اليوم
                      </em>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label  "> تاريخ انتهاء العضوية </label>
                        <input type="date" id="tAFTAVMemberExpiryDate" formControlName="tAFTAVMemberExpiryDate"
                          class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAFTAVMemberIssueDate').hasError('required') &&
                                 agencyForm.get('tAFTAVMemberIssueDate').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAFTAVMemberIssueDate').hasError('required') &&
                                  agencyForm.get('tAFTAVMemberIssueDate').hasError('greaterThan') &&
                                  agencyForm.get('tAFTAVMemberIssueDate').touched">
                        تاريخ انتهاء العضوية يجب ان يكون اكبر من تاريخ بدايه العضوية
                      </em>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
          <hr class="my-4">
          <section>
            <h3 class="text-primary"> التسجيل في الجامعة التونسية لوكالات الأسفار والسياحة </h3>
            <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
              <div class="col-lg-8">
                <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
                  <div class="col-md-12">
                    <div class="form-group ">
                      <label class="d-block col-form-label"> هل الوكالة مسجلة لدى الجامعة التونسية لوكالات الأسفار
                        والسياحة ؟ </label>
                      <div class="mt-2">
                        <div class="custom-control custom-radio  d-inline-block ">
                          <input id="yes3" [value]="true" formControlName="$$isFITTMember" type="radio"
                            class="custom-control-input" (change)="changeFITTMember()">
                          <label class="custom-control-label" for="yes3"> نعم </label>
                        </div>
                        <div class="custom-control custom-radio  d-inline-block  mx-3">
                          <input id="no3" [value]="false" formControlName="$$isFITTMember" type="radio"
                            class="custom-control-input" (change)="changeFITTMember()">
                          <label class="custom-control-label" for="no3"> لا</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="$$isFITTMember">
                  <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000"
                    data-aos-delay="100">
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label"> رقم العضوية </label>
                        <input type="text" id="tAFITTMemberNo" formControlName="tAFITTMemberNo" class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAFITTMemberNo').hasError('required') &&
                                 agencyForm.get('tAFITTMemberNo').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAFITTMemberNo').hasError('required') &&
                                  agencyForm.get('tAFITTMemberNo').hasError('pattern') &&
                                  agencyForm.get('tAFITTMemberNo').touched">
                        ارقام فقط
                      </em>
                    </div>
                  </div>
                  <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000"
                    data-aos-delay="100">
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label  "> تاريخ انشاء العضوية </label>
                        <input type="date" id="tAFITTMemberIssueDate" formControlName="tAFITTMemberIssueDate"
                          class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAFITTMemberIssueDate').hasError('required') &&
                                 agencyForm.get('tAFITTMemberIssueDate').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAFITTMemberIssueDate').hasError('required') &&
                                  agencyForm.get('tAFITTMemberIssueDate').hasError('lessThanToday') &&
                                  agencyForm.get('tAFITTMemberIssueDate').touched">
                        التاريخ يجب ان يكون قبل تاريخ اليوم
                      </em>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group ">
                        <label class="d-block col-form-label"> تاريخ انتهاء العضوية </label>
                        <input type="date" id="tAFITTMemberExpiryDate" formControlName="tAFITTMemberExpiryDate"
                          class="form-control">
                      </div>
                      <em *ngIf="agencyForm.get('tAFITTMemberExpiryDate').hasError('required') &&
                                 agencyForm.get('tAFITTMemberExpiryDate').touched">
                        اجباري
                      </em>
                      <em *ngIf="!agencyForm.get('tAFITTMemberExpiryDate').hasError('required') &&
                                  agencyForm.get('tAFITTMemberExpiryDate').hasError('greaterThan') &&
                                 agencyForm.get('tAFITTMemberExpiryDate').touched">
                        تاريخ انتهاء العضوية يجب ان يكون اكبر من تاريخ بدايه العضوية
                      </em>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <h3 class="text-primary"> بيانات التواصل </h3>
          <h4>اضافة فروع</h4>
          <a href="javascript:;" style="font-size: 2rem;" (click)="addBranch()" class="table-action text-success" data-toggle="modal"
          data-target="#additem"> <i class="fa fa-plus-square"></i> </a>
          <table class="table">
            <tr>
              <th> اسم الفرع</th>
              <th>المدينة</th>
              <th>رقم / اسم المبنى </th>
              <th>الجوال </th>
              <th>تعديل</th>
              <th>حذف</th>
            </tr>
            <tr *ngFor="let branch of branches |  paginate: { itemsPerPage: 2, currentPage: page}">
              <td>{{branch.tABranchName}}</td>
              <td>{{branch.tADistrictID}}</td>
              <td>{{branch.tABranchAddress}}</td>
              <td>{{branch.tABranchMobileNo}}</td>
              <td>
                <a href="javascript:;" (click)="editBranch(branch)" class="table-action text-success"
                  data-toggle="modal" data-target="#additem"> <i class="fal fa-fw fa-pencil-alt"></i> </a>
              </td>
              <td style="text-align:center">
                <a class="table-action text-danger" (click)="onRowDelete(branch.$$ID)"> <i
                    class="fal fa-fw fa-trash-alt"></i></a>
              </td>
            </tr>
          </table>
          <pagination-controls (pageChange)="page = $event" maxSize="5"></pagination-controls>
        </div>
      </section>
      <div class="row justify-content-between ml-3">
        <button class="btn btn-secondary" [routerLink]="['/agency/edit']">رجوع</button>
        <button class="btn btn-secondary" type="submit">تعديل</button>
      </div>
    </form>
  </div>
</div>


<div class="modal fade" id="additem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"> إضافة غرفة </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div [formGroup]="branchFrom">
          <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
            <div class="col-md-4">
              <div class="form-group ">
                <label class="d-block col-form-label"> اسم الفرع </label>
                <input type="text" id="tABranchName" formControlName="tABranchName" class="form-control">
              </div>
              <em *ngIf="branchFrom.get('tABranchName').hasError('required') && 
               branchFrom.get('tABranchName').touched">
                اجباري
              </em>
              <em *ngIf="!branchFrom.get('tABranchName').hasError('required') && 
                branchFrom.get('tABranchName').hasError('pattern') &&
               branchFrom.get('tABranchName').touched">
                حروف فقط
              </em>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label class="d-block col-form-label"> المدينة </label>
                <select id="country" name="tADistrictID" class="form-control" formControlName="tADistrictID">
                  <option *ngFor="let item of district" [value]="item.id">
                    {{item.name}}
                  </option>
                </select>
                <em *ngIf="branchFrom.get('tADistrictID').hasError('required') &&
                 branchFrom.get('tADistrictID').touched">
                  اجباري
                </em>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group ">
                <label class="d-block col-form-label"> رقم / اسم المبنى </label>
                <input type="text" id="tABranchAddress" formControlName="tABranchAddress" class="form-control">
              </div>
              <em *ngIf="branchFrom.get('tABranchAddress').hasError('required') &&
               branchFrom.get('tABranchAddress').touched">
                اجباري
              </em>
            </div>
          </div>
          <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
            <div class="col-md-4">
              <div class="form-group ">
                <label class="d-block col-form-label"> الاحداثيات </label>
                <div class="input-group">
                  <input type="text" id="tABranchLongitude" formControlName="tABranchLongitude" class="form-control"
                    placeholder="longitude">
                  <input type="text" id="tABranchLatitude" formControlName="tABranchLatitude" class="form-control"
                    placeholder="latitude">
                </div>
              </div>
              <em *ngIf="branchFrom.get('tABranchLongitude').hasError('required') &&
               branchFrom.get('tABranchLongitude').touched">
                اجباري
              </em>
              <em *ngIf="!branchFrom.get('tABranchLongitude').hasError('required') &&
                branchFrom.get('tABranchLongitude').hasError('pattern') &&
                branchFrom.get('tABranchLongitude').touched">
                ارقام فقط
              </em>
              <em class="row justify-content-end" *ngIf="branchFrom.get('tABranchLatitude').hasError('required') &&
               branchFrom.get('tABranchLatitude').touched">
                اجباري
              </em>
              <em class="row justify-content-end" *ngIf="!branchFrom.get('tABranchLatitude').hasError('required') &&
                branchFrom.get('tABranchLatitude').hasError('pattern') &&
                branchFrom.get('tABranchLatitude').touched">
                ارقام فقط
              </em>
            </div>
            <div class="col-md-4">
              <div class="form-group ">
                <label class="d-block col-form-label"> رقم الهاتف </label>
                <input type="text" id="tABranchPhoneNo" formControlName="tABranchPhoneNo" class="form-control">
              </div>
              <em *ngIf="branchFrom.get('tABranchPhoneNo').hasError('required') &&
               branchFrom.get('tABranchPhoneNo').touched">
                اجباري
              </em>
              <em *ngIf="!branchFrom.get('tABranchPhoneNo').hasError('required') &&
                branchFrom.get('tABranchPhoneNo').hasError('pattern') &&
               branchFrom.get('tABranchPhoneNo').touched">
                ارقام فقط
              </em>
            </div>
          </div>

          <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
            <div class="col-md-4">
              <div class="form-group ">
                <label class="d-block col-form-label"> رقم الجوال </label>
                <input type="text" id="tABranchMobileNo" formControlName="tABranchMobileNo" class="form-control">
              </div>
              <em *ngIf="branchFrom.get('tABranchMobileNo').hasError('required') &&
               branchFrom.get('tABranchMobileNo').touched">
                اجباري
              </em>
              <em *ngIf="!branchFrom.get('tABranchMobileNo').hasError('required') &&
                branchFrom.get('tABranchMobileNo').hasError('pattern') &&
                branchFrom.get('tABranchMobileNo').touched">
                ارقام فقط
              </em>
            </div>
            <div class="col-md-4">
              <div class="form-group ">
                <label class="d-block col-form-label"> رقم الفاكس </label>
                <input type="text" id="tABranchFaxNo" formControlName="tABranchFaxNo" class="form-control">
              </div>
              <em *ngIf="branchFrom.get('tABranchFaxNo').hasError('required') &&
               branchFrom.get('tABranchFaxNo').touched">
                اجباري
              </em>
              <em *ngIf="!branchFrom.get('tABranchFaxNo').hasError('required') &&
                branchFrom.get('tABranchFaxNo').hasError('pattern') &&
                branchFrom.get('tABranchFaxNo').touched">
                ارقام فقط
              </em>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label class="d-block col-form-label"> البريد الالكتروني </label>
                <input type="email" id="tABranchEmail" formControlName="tABranchEmail" class="form-control">
              </div>
              <em *ngIf="branchFrom.get('tABranchEmail').hasError('required') &&
               branchFrom.get('tABranchEmail').touched">
                اجباري
              </em>
              <em *ngIf="!branchFrom.get('tABranchEmail').hasError('required') &&
               branchFrom.get('tABranchEmail').hasError('email') &&
               branchFrom.get('tABranchEmail').touched">
                ادخل البريد الالكتروني بطريقه صحيحه
              </em>
            </div>
          </div>

          <div class="row" data-aos="fade-up" data-aos-offset="100" data-aos-duration="1000" data-aos-delay="100">
            <div class="col-md-4">
              <div class="form-group ">
                <div class="custom-control custom-checkbox mr-sm-2 mb-3">
                  <input type="checkbox" id formControlName="tABranchType" class="custom-control-input" id="xx">
                  <label class="custom-control-label" for="xx">&nbsp; فرع رئيسى &nbsp;</label>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary mr-2" data-dismiss="modal">إلغاء</button>
        <button *ngIf="!editBranchMode" type="button" (click)="addBranch()" class="btn btn-primary demo-trigger-1"
          data-dismiss="modal">
          حفظ
        </button>
        <button *ngIf="editBranchMode" type="button" (click)="_editBranch()"
          class="btn btn-primary demo-trigger-1" data-dismiss="modal">
          تعديل
        </button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="addowner" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"> إضافة ملاك </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div [formGroup]="ownerForm">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group ">
                <label class="d-block col-form-label"> اسم المالك </label>
                <input type="text" id="tAOwnerFullName" formControlName="tAOwnerFullName" class="form-control">
                <span class="text-danger"
                  *ngIf="ownerForm.get('tAOwnerFullName').hasError('required') && ownerForm.get('tAOwnerFullName').dirty">
                  هذا الحقل إجباري
                </span>
                <span class="text-danger" *ngIf="!ownerForm.get('tAOwnerFullName').hasError('required') &&
                         ownerForm.get('tAOwnerFullName').hasError('maxlength')">
                  فقط 20 رقم
                </span>
                <span class="text-danger" *ngIf="!ownerForm.get('tAOwnerFullName').hasError('required') &&
                !ownerForm.get('tAOwnerFullName').hasError('maxlength') &&
                ownerForm.get('tAOwnerFullName').hasError('pattern')">
                  حروف فقط
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label class="d-block col-form-label"> رقم الهوية </label>
                <input type="text" class="form-control" formControlName="tAOwnerNationalID">
                <span class="text-danger"
                  *ngIf="ownerForm.get('tAOwnerNationalID').hasError('required') && ownerForm.get('tAOwnerNationalID').dirty">
                  هذا الحقل إجباري
                </span>
                <span class="text-danger" *ngIf="!ownerForm.get('tAOwnerNationalID').hasError('required') &&
                ownerForm.get('tAOwnerNationalID').hasError('maxlength') && ownerForm.get('tAOwnerNationalID').dirty">
                  فقط 20 حرف
                </span>
                <span class="text-danger" *ngIf="!ownerForm.get('tAOwnerNationalID').hasError('required') &&
                              !ownerForm.get('tAOwnerNationalID').hasError('maxlength') &&
                              ownerForm.get('tAOwnerNationalID').hasError('pattern') &&
                              ownerForm.get('tAOwnerNationalID').dirty">
                  ارقام فقط
                </span>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label class="d-block col-form-label"> رقم الجوال </label>
                <input type="text" id="tAOwnerPhoneNo" class="form-control" formControlName="tAOwnerPhoneNo">
                <span class="text-danger"
                  *ngIf="ownerForm.get('tAOwnerPhoneNo').hasError('required') && ownerForm.get('tAOwnerPhoneNo').dirty">
                  هذا الحقل إجباري
                </span>
                <span class="text-danger" *ngIf="!ownerForm.get('tAOwnerPhoneNo').hasError('required') &&
                      ownerForm.get('tAOwnerPhoneNo').hasError('maxlength')">
                  فقط 20 رقم
                </span>
                <span class="text-danger" *ngIf="!ownerForm.get('tAOwnerPhoneNo').hasError('required') &&
                !ownerForm.get('tAOwnerPhoneNo').hasError('maxlength') &&
                ownerForm.get('tAOwnerPhoneNo').hasError('pattern') &&
                ownerForm.get('tAOwnerPhoneNo').dirty">
                  ارقام فقط
                </span>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary mr-2" data-dismiss="modal">إلغاء</button>
        <button *ngIf="!editMode" type="button" (click)="addOwner()" class="btn btn-primary demo-trigger-1"
          data-dismiss="modal">
          حفظ
        </button>
        <button *ngIf="editMode" type="button" [disabled]="!ownerForm.valid" (click)="_editOwner()"
          class="btn btn-primary demo-trigger-1" data-dismiss="modal">
          تعديل
        </button>
      </div>
    </div>
  </div>
</div>